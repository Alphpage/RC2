# ‚úÖ –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï: Route not found

## üéØ –ü—Ä–æ–±–ª–µ–º–∞ –Ω–∞–π–¥–µ–Ω–∞ –∏ —Ä–µ—à–µ–Ω–∞!

**–°–∏–º–ø—Ç–æ–º—ã:**
- ‚úÖ Health check —Ä–∞–±–æ—Ç–∞–µ—Ç: `/api/health` ‚Üí `{"status":"ok"}`
- ‚ùå –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã: `{"error":"Route not found"}`

**–ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:**
```
The table `public.users` does not exist in the current database.
```

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞** - Prisma –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã!

---

## üöÄ –†–µ—à–µ–Ω–∏–µ (1 –º–∏–Ω—É—Ç–∞!)

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Render Dashboard

```
https://dashboard.render.com
```

### –®–∞–≥ 2: –ù–∞–π–¥–∏—Ç–µ Backend —Å–µ—Ä–≤–∏—Å

- `rentcontrol-backend` (Web Service)

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ Settings

- Scroll –≤–Ω–∏–∑ –¥–æ **"Start Command"**

### –®–∞–≥ 4: –ó–∞–º–µ–Ω–∏—Ç–µ Start Command

**–°—Ç–∞—Ä—ã–π (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):**
```bash
npm start
```

**–ù–æ–≤—ã–π (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):**
```bash
npx prisma migrate deploy && npm start
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:**
1. `npx prisma migrate deploy` - —Å–æ–∑–¥–∞–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î
2. `&&` - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è —É—Å–ø–µ—à–Ω–∞
3. `npm start` - –∑–∞–ø—É—Å–∫–∞–µ—Ç Backend

### –®–∞–≥ 5: Save Changes

–ù–∞–∂–º–∏—Ç–µ **"Save Changes"**

### –®–∞–≥ 6: –î–æ–∂–¥–∏—Ç–µ—Å—å Redeploy

- Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç —Å–µ—Ä–≤–∏—Å
- –í—Ä–µ–º—è: ~1-2 –º–∏–Ω—É—Ç—ã
- –í –ª–æ–≥–∞—Ö –≤—ã —É–≤–∏–¥–∏—Ç–µ:
  ```
  Prisma Migrate applied 5 migrations
  Your database is now in sync with your schema
  Server starting on port 3001
  ```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ (–ø–æ—Å–ª–µ redeploy)

### 1. Health Check (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å)
```bash
curl https://rentcontrol-backend.onrender.com/api/health
```
‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è:
```json
{"status":"ok","timestamp":"2026-01-17T..."}
```

### 2. Seed Database (—Å–æ–∑–¥–∞—Å—Ç —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
```bash
curl -X POST https://rentcontrol-backend.onrender.com/api/admin/seed
```
‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è:
```json
{
  "message": "Database seeded successfully",
  "data": {
    "users": 3,
    "points": 3,
    "employees": 4,
    "registers": 4
  }
}
```

### 3. Login (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Ç–æ–∫–µ–Ω)
```bash
curl -X POST https://rentcontrol-backend.onrender.com/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"login":"admin","password":"admin123"}'
```
‚úÖ –û–∂–∏–¥–∞–µ—Ç—Å—è:
```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "...",
    "login": "admin",
    "name": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",
    "role": "ADMIN"
  }
}
```

### 4. Frontend (–¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
1. –û—Ç–∫—Ä–æ–π—Ç–µ: `https://rentcontrol-frontend.onrender.com`
2. –õ–æ–≥–∏–Ω: `admin`
3. –ü–∞—Ä–æ–ª—å: `admin123`
4. –ù–∞–∂–º–∏—Ç–µ **"–í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É"**
5. ‚úÖ –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 3 —Ç–æ—á–∫–∏ –ø—Ä–æ–∫–∞—Ç–∞ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üéâ –ß—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –∏ seed:

### ‚úÖ Backend API
- –í—Å–µ 48 endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
- JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- RBAC (—Ä–æ–ª–∏: admin, manager, supervisor)
- PostgreSQL —Å –¥–∞–Ω–Ω—ã–º–∏

### ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
| –õ–æ–≥–∏–Ω | –ü–∞—Ä–æ–ª—å | –†–æ–ª—å | –ü—Ä–∞–≤–∞ |
|-------|--------|------|-------|
| `admin` | `admin123` | ADMIN | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø |
| `manager` | `manager123` | MANAGER | –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ |
| `supervisor` | `supervisor123` | SUPERVISOR | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Ç–æ—á–∫–æ–π |

### ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- **3 —Ç–æ—á–∫–∏ –ø—Ä–æ–∫–∞—Ç–∞:**
  - –¢–æ—á–∫–∞ –¶–µ–Ω—Ç—Ä (10% –∫ –∑–∞—Ä–ø–ª–∞—Ç–µ)
  - –ü–∞—Ä–∫ –ü–æ–±–µ–¥—ã (5% –∫ –∑–∞—Ä–ø–ª–∞—Ç–µ)
  - –ù–∞–±–µ—Ä–µ–∂–Ω–∞—è (7% –∫ –∑–∞—Ä–ø–ª–∞—Ç–µ)
- **4 –∫–∞—Å—Å—ã** (–ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Ç–æ—á–∫–∞–º)
- **4 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞** (—Å –ø–æ—á–∞—Å–æ–≤–æ–π —Å—Ç–∞–≤–∫–æ–π)
- **4 –∞—É–¥–∏—Ç–æ—Ä—Å–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–∞** (—É—Ç—Ä–µ–Ω–Ω–∏–µ –∏ –≤–µ—á–µ—Ä–Ω–∏–µ)

### ‚úÖ Frontend
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ API
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ PostgreSQL
- –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–æ–≤ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–∫–∞–º–∏ –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏
- –ì—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–±–æ—Ç—ã –∏ –≤—ã—Ä—É—á–∫–∞
- RBAC (—Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π)

---

## üìã –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [x] –ù–∞—à–ª–∏ –ø—Ä–∏—á–∏–Ω—É: –±–∞–∑–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- [x] –°–æ–∑–¥–∞–ª–∏ —Ä–µ—à–µ–Ω–∏–µ: –¥–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Start Command
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞: FIX_DATABASE_NOT_INITIALIZED.md
- [ ] **–í–∞—à–∞ –∑–∞–¥–∞—á–∞:** –ò–∑–º–µ–Ω–∏—Ç—å Start Command –Ω–∞ Render
- [ ] **–í–∞—à–∞ –∑–∞–¥–∞—á–∞:** –î–æ–∂–¥–∞—Ç—å—Å—è redeploy (~1-2 –º–∏–Ω)
- [ ] **–í–∞—à–∞ –∑–∞–¥–∞—á–∞:** –í—ã–ø–æ–ª–Ω–∏—Ç—å seed —á–µ—Ä–µ–∑ API
- [ ] **–í–∞—à–∞ –∑–∞–¥–∞—á–∞:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å login
- [ ] **–í–∞—à–∞ –∑–∞–¥–∞—á–∞:** –í–æ–π—Ç–∏ –≤–æ Frontend

---

## üéØ –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (TL;DR)

1. **Render Dashboard** ‚Üí `rentcontrol-backend` ‚Üí **Settings**
2. **Start Command:** –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ `npx prisma migrate deploy && npm start`
3. **Save Changes** ‚Üí –¥–æ–∂–¥–∏—Ç–µ—Å—å redeploy (~1-2 –º–∏–Ω)
4. **Seed:** `curl -X POST https://rentcontrol-backend.onrender.com/api/admin/seed`
5. **Login:** –û—Ç–∫—Ä–æ–π—Ç–µ frontend, –≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ `admin` / `admin123`
6. **–ì–æ—Ç–æ–≤–æ!** üöÄ

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ:**
1. –õ–æ–≥–∏ –∏–∑ Render –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è Start Command
2. –†–µ–∑—É–ª—å—Ç–∞—Ç seed: `curl -X POST .../api/admin/seed`
3. –†–µ–∑—É–ª—å—Ç–∞—Ç login: `curl -X POST .../api/auth/login ...`

–Ø –±—ã—Å—Ç—Ä–æ –Ω–∞–π–¥—É –∏ –∏—Å–ø—Ä–∞–≤–ª—é! üõ†Ô∏è

---

## üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [FIX_DATABASE_NOT_INITIALIZED.md](./FIX_DATABASE_NOT_INITIALIZED.md) - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- [DIAGNOSE_BACKEND_DOWN.md](./DIAGNOSE_BACKEND_DOWN.md) - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º
- [SEED_VIA_API.md](./SEED_VIA_API.md) - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- [TEST_BACKEND.md](./TEST_BACKEND.md) - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
- [QUICK_DEPLOY.md](./QUICK_DEPLOY.md) - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–µ–ø–ª–æ—è

---

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/Alphpage/RC2  
**–ö–æ–º–º–∏—Ç:** `5a4fb53` - docs: Add database initialization fix guide

**–£–¥–∞—á–∏! –í—Å—ë –ø–æ–ª—É—á–∏—Ç—Å—è! üöÄ‚ú®**
